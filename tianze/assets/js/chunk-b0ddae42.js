(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0ddae42"],{"478f":function(e,t,a){},"53cd":function(e,t,a){"use strict";var r=a("478f"),n=a.n(r);n.a},"96ed":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-civil"},[e._m(0),a("div",{staticClass:"payment-civil-content"},[a("div",[e._v("汇款账户：")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.receiveMoney.userName,expression:"receiveMoney.userName"}],attrs:{type:"text",disabled:"true"},domProps:{value:e.receiveMoney.userName},on:{input:function(t){t.target.composing||e.$set(e.receiveMoney,"userName",t.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.receiveMoney.cardNum,expression:"receiveMoney.cardNum"}],attrs:{type:"text",disabled:"true"},domProps:{value:e.receiveMoney.cardNum},on:{input:function(t){t.target.composing||e.$set(e.receiveMoney,"cardNum",t.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.receiveMoney.openAddr,expression:"receiveMoney.openAddr"}],attrs:{type:"text",disabled:"true"},domProps:{value:e.receiveMoney.openAddr},on:{input:function(t){t.target.composing||e.$set(e.receiveMoney,"openAddr",t.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.PamentMsg.FeePayable,expression:"PamentMsg.FeePayable"}],attrs:{type:"text",disabled:"true"},domProps:{value:e.PamentMsg.FeePayable},on:{input:function(t){t.target.composing||e.$set(e.PamentMsg,"FeePayable",t.target.value)}}})]),a("div",{staticClass:"payment-civil-content-update"},[e._v(" 上传凭证： "),a("div",{staticClass:"payment-civil-content-update-box"},[a("div",{staticClass:"payment-civil-content-update-box-container"},[a("img",{attrs:{src:e.SubmitData.voucher,alt:""}})])]),a("button",{staticClass:"payment-civil-content-update-button"},[e._v("点击上传")])]),a("div",{staticClass:"payment-civil-content-payer"},[e._v(" 合同人姓名： "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.SubmitData.contractName,expression:"SubmitData.contractName"}],attrs:{type:"text",disabled:!0},domProps:{value:e.SubmitData.contractName},on:{input:function(t){t.target.composing||e.$set(e.SubmitData,"contractName",t.target.value)}}})]),a("div",{staticClass:"payment-civil-content-payer"},[e._v(" 打款人姓名： "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.SubmitData.payertName,expression:"SubmitData.payertName"}],attrs:{type:"text",disabled:!0},domProps:{value:e.SubmitData.payertName},on:{input:function(t){t.target.composing||e.$set(e.SubmitData,"payertName",t.target.value)}}})])]),a("div",{staticClass:"payment-civil-check"},[a("div",{staticClass:"payment-civil-check-reason"},[a("span",[e._v("审批原因")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.SubmitApproveData.checkReason,expression:"SubmitApproveData.checkReason"}],attrs:{maxlength:"141"},domProps:{value:e.SubmitApproveData.checkReason},on:{input:function(t){t.target.composing||e.$set(e.SubmitApproveData,"checkReason",t.target.value)}}})]),a("div",{staticClass:"payment-civil-check-button"},[a("button",{on:{click:e.RejectCheck}},[e._v("审核驳回")]),a("button",{on:{click:e.PassCheck}},[e._v("审核通过")])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-civil-title"},[a("span",{staticClass:"payment-civil-title-go1"},[e._v("我的审批")]),a("span",{staticClass:"payment-civil-title-separator"},[e._v("/")]),a("span",{staticClass:"payment-civil-title-go2"},[e._v("债权处理信息缴费审批")])])}],i=(a("96cf"),a("1da1")),s=a("5530"),o=a("2f62"),d={data:function(){return{PamentMsg:{CardNum:"收款卡号：",AccountName:"开户名：",OpeningBank:"开户行：",FeePayable:"应缴费用：=解债金额×10%或者解债金额×13%",Contractor:""},SubmitData:{voucher:""},SubmitApproveData:{checkReason:"",status:"",debtId:""},AddPropertyMsg:{relativePerId:"",reportId:"",civilId:"",debtId:"",createId:"",status:"0"},payId:"",reportId:"",debtId:"",UpdatePay:{status:"",payId:""}}},computed:Object(s["a"])({},Object(o["c"])(["receiveMoney"])),methods:{InitData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s,o,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.query,r=a.payId,n=a.reportId,i=a.debtId,e.payId=r,e.reportId=n,e.debtId=i,s=new FormData,s.append("payId",e.payId),t.next=8,e.$http({method:"post",url:"/api/api/busPayDetailController/selectByPrimaryKey",data:s,headers:{"Content-Type":"multipart/form-data"}});case 8:o=t.sent,d=o.data,e.SubmitData=d.data;case 11:case"end":return t.stop()}}),t)})))()},RejectCheck:function(){if(!this.SubmitApproveData.checkReason)return this.$message.error("请先填写审核原因");this.UpdatePayStatus("1"),this.UpdateCheckStatus("8")},PassCheck:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.UpdatePayStatus("2");case 2:return t.next=4,e.UpdateCheckStatus("9").then((function(){var t=new FormData,a=e.debtId;console.log(a),t.append("debtId",a),e.$http({method:"post",url:"/api/api/pubDebtController/selectByPrimaryKey",data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.AddPropertyMsg.relativePerId=t.data.data.relativePerId,e.AddPropertyMsg.reportId=t.data.data.reportId,e.AddPropertyMsg.civilId=t.data.data.civilId,e.AddPropertyMsg.debtId=e.debtId,e.AddPropertyMsg.createId=window.sessionStorage.getItem("userId");var a=new FormData;for(var r in e.AddPropertyMsg)a.append(r,e.AddPropertyMsg[r]);e.$http({method:"post",url:"/api/api/busPropertController/insertSelective",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){"200"!==t.data.resultCode&&e.$message.error("新增资产信息错误");var a=new FormData;a.append("reportId",e.reportId),a.append("stage","4"),e.$http({method:"post",url:"/api/api/busReportController/updateDebtStage",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){if("200"!==t.data.resultCode)return e.$message.error(t.data.resultMessage);e.$message.success("进入资产阶段，新增资产信息成功")}))}))}))}));case 4:case"end":return t.stop()}}),t)})))()},UpdateCheckStatus:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n in r=new FormData,t.SubmitApproveData.status=e,t.SubmitApproveData.debtId=t.debtId,t.SubmitApproveData)r.append(n,t.SubmitApproveData[n]);return a.next=6,t.$http({method:"post",url:"/api/api/pubDebtController/updateStatus",data:r,headers:{"Content-Type":"multipart/form-data"}});case 6:return i=a.sent,s=i.data,"0"!==s.data&&"200"===s.resultCode?t.$message.success(s.resultMessage):t.$message.error("操作失败, 请重试"),a.abrupt("return",s);case 10:case"end":return a.stop()}}),a)})))()},UpdatePayStatus:function(e){var t=new FormData;for(var a in this.UpdatePay.status=e,this.UpdatePay.payId=this.payId,this.UpdatePay)t.append(a,this.UpdatePay[a]);this.$http({method:"post",url:"/api/api/busPayDetailController/updateStatus",data:t,headers:{"Content-Type":"multipart/form-data"}})}},created:function(){this.InitData()}},p=d,c=(a("53cd"),a("2877")),u=Object(c["a"])(p,r,n,!1,null,"95461f12",null);t["default"]=u.exports}}]);