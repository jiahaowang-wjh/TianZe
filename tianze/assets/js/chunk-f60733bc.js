(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f60733bc"],{c5cd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-info"},[t._m(0),a("div",{staticClass:"payment-info-content"},[a("div",{staticClass:"payment-info-content-title"},[t._v("您新增的录入信息总部公司已经审核通过，请根据下面所给信息线下支付录入费用。")]),a("div",[t._v("汇款账户：")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.PamentMsg.CardNum,expression:"PamentMsg.CardNum"}],attrs:{type:"text",disabled:"true"},domProps:{value:t.PamentMsg.CardNum},on:{input:function(e){e.target.composing||t.$set(t.PamentMsg,"CardNum",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.PamentMsg.AccountName,expression:"PamentMsg.AccountName"}],attrs:{type:"text",disabled:"true"},domProps:{value:t.PamentMsg.AccountName},on:{input:function(e){e.target.composing||t.$set(t.PamentMsg,"AccountName",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.PamentMsg.OpeningBank,expression:"PamentMsg.OpeningBank"}],attrs:{type:"text",disabled:"true"},domProps:{value:t.PamentMsg.OpeningBank},on:{input:function(e){e.target.composing||t.$set(t.PamentMsg,"OpeningBank",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.PamentMsg.FeePayable,expression:"PamentMsg.FeePayable"}],attrs:{type:"text",disabled:"true"},domProps:{value:t.PamentMsg.FeePayable},on:{input:function(e){e.target.composing||t.$set(t.PamentMsg,"FeePayable",e.target.value)}}})]),a("div",{staticClass:"payment-info-content-update"},[t._v(" 上传凭证： "),a("div",{staticClass:"payment-info-content-update-box"},[a("div",{staticClass:"payment-info-content-update-box-container"},t._l(t.UpdataVoucherList,(function(t,e){return a("img",{key:e,attrs:{src:t}})})),0)]),a("button",{staticClass:"payment-info-content-update-button"},[t._v("点击上传")]),a("input",{ref:"Voucher",attrs:{type:"file"},on:{change:t.UpdataVoucher}})]),a("div",{staticClass:"payment-info-content-payer"},[t._v(" 合同人姓名： "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.SubmitData.contractName,expression:"SubmitData.contractName"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.SubmitData.contractName},on:{input:function(e){e.target.composing||t.$set(t.SubmitData,"contractName",e.target.value)}}})]),a("div",{staticClass:"payment-info-content-payer"},[t._v(" 打款人姓名： "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.SubmitData.payertName,expression:"SubmitData.payertName"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.SubmitData.payertName},on:{input:function(e){e.target.composing||t.$set(t.SubmitData,"payertName",e.target.value)}}})]),a("button",{staticClass:"payment-info-content-submit",on:{click:t.SubmitPayment}},[t._v("提交")])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-info-title"},[a("span",{staticClass:"payment-info-title-go1"},[t._v("我的审批")]),a("span",{staticClass:"payment-info-title-separator"},[t._v("/")]),a("span",{staticClass:"payment-info-title-go2"},[t._v("录入缴费")])])}],r=(a("96cf"),a("1da1")),i={data:function(){return{PamentMsg:{CardNum:"收款卡号：810101201421046328",AccountName:"开户名：山东盛世天泽公关顾问有限公司",OpeningBank:"开户行：日照银行股份有限公司银海支行",FeePayable:"应缴费用：880（元）",Contractor:""},UpdatePay:{status:"",payId:""},SubmitData:{reportId:"",contractName:"",payertName:"",voucher:[],cost:"880",flag:"1",status:"0"},UpdataVoucherList:[]}},methods:{InitData:function(){this.SubmitData.reportId=this.$route.query.reportId},SubmitPayment:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,s,r,i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in t.SubmitData.voucher=t.UpdataVoucherList,a=new FormData,t.SubmitData)a.append(n,t.SubmitData[n]);return e.next=5,t.$http({method:"post",url:"/api/api/busPayDetailController/insertSelective",data:a,headers:{"Content-Type":"multipart/form-data"}});case 5:if(s=e.sent,r=s.data,"200"===r.resultCode){e.next=9;break}return e.abrupt("return",t.$message.error(r.resultMessage));case 9:return t.UpdatePayStatus(0,r.data),i=new FormData,i.append("reportId",t.SubmitData.reportId),i.append("status","4"),e.next=15,t.$http({method:"post",url:"/api/api/busReportController/updateStatus",data:i,headers:{"Content-Type":"multipart/form-data"}});case 15:if(o=e.sent,u=o.data,"200"===u.resultCode){e.next=19;break}return e.abrupt("return",t.$message.error("提交错误, 请重试"));case 19:t.$message.success(u.resultMessage),t.$router.push("/ReportInfo");case 21:case"end":return e.stop()}}),e)})))()},UpdataVoucher:function(){var t=this,e=this.$refs.Voucher.files[0];this.$UpdateFile(e).then((function(e){t.UpdataVoucherList.push(e)}))},UpdatePayStatus:function(t,e){var a=this,n=new FormData,s={status:t,payId:e};for(var r in this.UpdatePay=s,s)n.append(r,this.UpdatePay[r]);this.$http({method:"post",url:"/api/api/busPayDetailController/updateStatus",data:n,headers:{"Content-Type":"multipart/form-data"}},(function(t){"200"==t.resultCode&&a.$router.push("/ReportInfo")}))}},created:function(){this.InitData()}},o=i,u=(a("d32a"),a("2877")),p=Object(u["a"])(o,n,s,!1,null,"0c7770e2",null);e["default"]=p.exports},d32a:function(t,e,a){"use strict";var n=a("ea6d"),s=a.n(n);s.a},ea6d:function(t,e,a){}}]);