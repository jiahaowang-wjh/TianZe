(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d0f9d54"],{2928:function(t,e,a){},"96ed":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-civil"},[t._m(0),a("div",{staticClass:"payment-civil-content"},[a("div",[t._v("汇款账户：")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.receiveMoney.userName,expression:"receiveMoney.userName"}],attrs:{type:"text",disabled:"true"},domProps:{value:t.receiveMoney.userName},on:{input:function(e){e.target.composing||t.$set(t.receiveMoney,"userName",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.receiveMoney.cardNum,expression:"receiveMoney.cardNum"}],attrs:{type:"text",disabled:"true"},domProps:{value:t.receiveMoney.cardNum},on:{input:function(e){e.target.composing||t.$set(t.receiveMoney,"cardNum",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.receiveMoney.openAddr,expression:"receiveMoney.openAddr"}],attrs:{type:"text",disabled:"true"},domProps:{value:t.receiveMoney.openAddr},on:{input:function(e){e.target.composing||t.$set(t.receiveMoney,"openAddr",e.target.value)}}})]),a("div",[a("input",{attrs:{type:"text",disabled:"true"},domProps:{value:"应缴费用："+t.PamentMsg.FeePayable+"元"}})]),a("div",{staticClass:"payment-civil-content-update"},[t._v(" 上传凭证： "),a("div",{staticClass:"payment-civil-content-update-box"},[a("div",{staticClass:"payment-civil-content-update-box-container"},t._l(t.SubmitData.voucher,(function(e,r){return a("div",{key:r,staticClass:"payment-civil-content-update-box-container-item"},[a("img",{attrs:{src:e},on:{click:function(a){return t.openImgToLink(e)}}})])})),0)])]),a("div",{staticClass:"payment-civil-content-payer"},[t._v(" 合同人姓名： "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.SubmitData.contractName,expression:"SubmitData.contractName"}],attrs:{type:"text",disabled:!0},domProps:{value:t.SubmitData.contractName},on:{input:function(e){e.target.composing||t.$set(t.SubmitData,"contractName",e.target.value)}}})]),a("div",{staticClass:"payment-civil-content-payer"},[t._v(" 打款人姓名： "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.SubmitData.payertName,expression:"SubmitData.payertName"}],attrs:{type:"text",disabled:!0},domProps:{value:t.SubmitData.payertName},on:{input:function(e){e.target.composing||t.$set(t.SubmitData,"payertName",e.target.value)}}})])]),a("div",{staticClass:"payment-civil-check"},[a("div",{staticClass:"payment-civil-check-reason"},[a("span",[t._v("审批原因")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.SubmitApproveData.checkReason,expression:"SubmitApproveData.checkReason"}],attrs:{maxlength:"141"},domProps:{value:t.SubmitApproveData.checkReason},on:{input:function(e){e.target.composing||t.$set(t.SubmitApproveData,"checkReason",e.target.value)}}})]),a("div",{staticClass:"payment-civil-check-button"},[a("button",{attrs:{type:"button"},on:{click:t.RejectCheck}},[t._v("审核驳回")]),a("button",{attrs:{type:"button"},on:{click:t.PassCheck}},[t._v("审核通过")])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-civil-title"},[a("span",{staticClass:"payment-civil-title-go1"},[t._v("我的审批")]),a("span",{staticClass:"payment-civil-title-separator"},[t._v("/")]),a("span",{staticClass:"payment-civil-title-go2"},[t._v("债权处理信息缴费审批")])])}],i=(a("ac1f"),a("1276"),a("96cf"),a("1da1")),o=a("5530"),s=a("2f62"),d={data:function(){return{PamentMsg:{CardNum:"收款卡号：",AccountName:"开户名：",OpeningBank:"开户行：",FeePayable:this.$route.query.cost,Contractor:""},SubmitData:{voucher:""},SubmitApproveData:{checkReason:"",status:"",debtId:""},AddPropertyMsg:{relativePerId:"",reportId:"",civilId:"",debtId:"",createId:"",status:"0"},payId:"",reportId:"",debtId:"",UpdatePay:{status:"",payId:""},AddSealData:{reportId:this.$route.query.reportId,debtId:this.$route.query.debtId,parta:"邓丽清",partaCard:"440981198801011427",partaTel:"15218801056"}}},computed:Object(o["a"])({},Object(s["c"])(["receiveMoney"])),methods:{InitData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,n,i,o,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query,r=a.payId,n=a.reportId,i=a.debtId,t.payId=r,t.reportId=n,t.debtId=i,o=new FormData,o.append("payId",t.payId),e.next=8,t.$http({method:"post",url:"/api/api/busPayDetailController/selectByPrimaryKey",data:o,headers:{"Content-Type":"multipart/form-data"}});case 8:s=e.sent,d=s.data,t.SubmitData=d.data,t.SubmitData.voucher=t.SubmitData.voucher.split(","),console.log(t.SubmitData);case 13:case"end":return e.stop()}}),e)})))()},RejectCheck:function(){if(!this.SubmitApproveData.checkReason)return this.$message.error("请先填写审核原因");this.UpdatePayStatus("1"),this.UpdateCheckStatus("8"),this.$message.success("审核成功"),this.$router.push({path:"/PaymentVoucher"})},PassCheck:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.UpdatePayStatus("2");case 2:for(r in a=new FormData,t.AddSealData)a.append(r,t.AddSealData[r]);return e.next=6,t.$http({method:"post",url:"/api/wordConversion/fillInWordAndSaveAsSpecifyFormatdvisory",data:a,headers:{"Content-Type":"multipart/form-data"}});case 6:return n=e.sent,n.data,e.next=10,t.UpdateCheckStatus("9").then((function(){var e=new FormData,a=t.debtId;console.log(a),e.append("debtId",a),t.$http({method:"post",url:"/api/api/pubDebtController/selectByPrimaryKey",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.AddPropertyMsg.relativePerId=e.data.data.relativePerId,t.AddPropertyMsg.reportId=e.data.data.reportId,t.AddPropertyMsg.civilId=e.data.data.civilId,t.AddPropertyMsg.debtId=t.debtId,t.AddPropertyMsg.createId=window.sessionStorage.getItem("userId");var a=new FormData;for(var r in t.AddPropertyMsg)a.append(r,t.AddPropertyMsg[r]);t.$http({method:"post",url:"/api/api/busPropertController/insertSelective",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){"200"!==e.data.resultCode&&t.$message.error("新增资产信息错误");var a=new FormData;a.append("reportId",t.reportId),a.append("stage","4"),t.$http({method:"post",url:"/api/api/busReportController/updateDebtStage",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$message.success("进入资产阶段，新增资产信息成功"),t.$router.push({path:"/PaymentVoucher"})}))}))}))}));case 10:case"end":return e.stop()}}),e)})))()},UpdateCheckStatus:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n in r=new FormData,e.SubmitApproveData.status=t,e.SubmitApproveData.debtId=e.debtId,e.SubmitApproveData)r.append(n,e.SubmitApproveData[n]);return a.next=6,e.$http({method:"post",url:"/api/api/pubDebtController/updateStatus",data:r,headers:{"Content-Type":"multipart/form-data"}});case 6:return i=a.sent,o=i.data,"0"!==o.data&&"200"===o.resultCode?e.$message.success(o.resultMessage):e.$message.error("操作失败, 请重试"),a.abrupt("return",o);case 10:case"end":return a.stop()}}),a)})))()},UpdatePayStatus:function(t){var e=new FormData;for(var a in this.UpdatePay.status=t,this.UpdatePay.payId=this.payId,this.UpdatePay)e.append(a,this.UpdatePay[a]);this.$http({method:"post",url:"/api/api/busPayDetailController/updateStatus",data:e,headers:{"Content-Type":"multipart/form-data"}})}},created:function(){this.InitData()}},p=d,u=(a("d4c7"),a("2877")),c=Object(u["a"])(p,r,n,!1,null,"095644a6",null);e["default"]=c.exports},d4c7:function(t,e,a){"use strict";var r=a("2928"),n=a.n(r);n.a}}]);